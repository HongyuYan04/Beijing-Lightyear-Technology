(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c0393548"],{"9e9e":function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"g",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return m})),a.d(t,"h",(function(){return d})),a.d(t,"d",(function(){return h}));var i=a("b775");const r="/docs",o=e=>Object(i["a"])({url:r+"/"+e,method:"delete"}),n=e=>Object(i["a"])({url:r+"/batch/"+e,method:"delete"}),s=e=>Object(i["a"])({url:r,method:"put",data:e}),l=e=>Object(i["a"])({url:r,method:"get",params:e}),c=()=>"http://localhost:8888"+r+"/import",m=()=>"http://localhost:8888"+r+"/export",d=()=>"http://localhost:8888"+r+"/upload",h=()=>"http://localhost:8888"+r+"/download/"},ab43:function(e,t,a){"use strict";var i=a("23e7"),r=a("c65b"),o=a("59ed"),n=a("825a"),s=a("46c4"),l=a("c5cc"),c=a("9bdd"),m=a("2a62"),d=a("2baa"),h=a("f99f"),p=a("c430"),u=!p&&!d("map",(function(){})),f=!p&&!u&&h("map",TypeError),g=p||u||f,b=l((function(){var e=this.iterator,t=n(r(this.next,e)),a=this.done=!!t.done;if(!a)return c(e,this.mapper,[t.value,this.counter++],!0)}));i({target:"Iterator",proto:!0,real:!0,forced:g},{map:function(e){n(this);try{o(e)}catch(t){m(this,"throw",t)}return f?r(f,this,e):new b(s(this),{mapper:e})}})},eb78:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"manage"},[t("el-dialog",{attrs:{title:"编辑",visible:e.editForm.isShow},on:{"update:visible":function(t){return e.$set(e.editForm,"isShow",t)}}},[t("el-form",{attrs:{"label-width":"100px",model:e.editForm.formData,size:"mini"}},[t("el-form-item",{staticStyle:{width:"450px"},attrs:{label:"备注","label-width":"140px",prop:"remark"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入",autosize:{minRows:2,maxRows:4},maxlength:"100","show-word-limit":""},model:{value:e.editForm.formData.remark,callback:function(t){e.$set(e.editForm.formData,"remark","string"===typeof t?t.trim():t)},expression:"editForm.formData.remark"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editForm.isShow=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirmEdit}},[e._v("确定")])],1)],1),t("div",{staticStyle:{"margin-bottom":"10px"}},[t("el-upload",{staticStyle:{display:"inline-block"},attrs:{action:e.importApi,headers:e.headers,accept:"xlsx","show-file-list":!1,multiple:!1,"on-success":e.handleImportSuccess}},[t("el-button",{attrs:{type:"success",size:"mini"}},[e._v("导入 "),t("i",{staticClass:"el-icon-bottom"})])],1),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning",size:"mini"},on:{click:e.exportData}},[e._v("导出 "),t("i",{staticClass:"el-icon-top"})]),t("el-upload",{staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{action:e.uploadApi,headers:e.headers,multiple:!1,"show-file-list":!1,"on-success":e.handleUploadSuccess,limit:1}},[t("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("上传 "),t("i",{staticClass:"el-icon-circle-plus-outline"})])],1),t("el-popconfirm",{staticStyle:{"margin-left":"10px"},attrs:{"confirm-button-text":"确定","cancel-button-text":"我再想想",icon:"el-icon-info","icon-color":"red",title:"你确定删除吗？"},on:{confirm:e.handleDeleteBatch}},[t("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[e._v("批量删除 "),t("i",{staticClass:"el-icon-remove-outline"})])],1)],1),t("div",{staticClass:"manage-header"},[t("el-form",{attrs:{"label-width":"auto",model:e.searchForm.formData,inline:!0,size:"mini"}},[t("el-form-item",{attrs:{label:"原名称",prop:"oldName"}},[t("el-input",{attrs:{placeholder:"请输入文件原名称","prefix-icon":"el-icon-search"},model:{value:e.searchForm.formData.oldName,callback:function(t){e.$set(e.searchForm.formData,"oldName","string"===typeof t?t.trim():t)},expression:"searchForm.formData.oldName"}})],1),t("el-form-item",{attrs:{label:"上传者",prop:"staffName"}},[t("el-input",{attrs:{placeholder:"请输入上传者","prefix-icon":"el-icon-search"},model:{value:e.searchForm.formData.staffName,callback:function(t){e.$set(e.searchForm.formData,"staffName","string"===typeof t?t.trim():t)},expression:"searchForm.formData.staffName"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.search}},[e._v("搜索 "),t("i",{staticClass:"el-icon-search"})]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.reset}},[e._v("重置 "),t("i",{staticClass:"el-icon-refresh-left"})])],1)],1)],1),t("div",{staticClass:"common-table"},[t("el-table",{attrs:{data:e.table.tableData,height:"85%",border:"",stripe:"","row-key":"id",fit:"","header-cell-style":{background:"#eef1f6",color:"#606266",textAlign:"center",fontWeight:"bold",borderWidth:"3px"}},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"文件名","min-width":"180",align:"center"}}),t("el-table-column",{attrs:{prop:"type",label:"类型","min-width":"125",align:"center"}}),t("el-table-column",{attrs:{prop:"oldName",label:"文件原名称","min-width":"150",align:"center"}}),t("el-table-column",{attrs:{prop:"size",label:"文件大小（KB）","min-width":"125",align:"center"}}),t("el-table-column",{attrs:{prop:"staffName",label:"上传者","min-width":"125",align:"center"}}),t("el-table-column",{attrs:{prop:"createTime",label:"上传时间","min-width":"150",align:"center"}}),t("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"200",align:"center"}}),t("el-table-column",{attrs:{label:"操作",width:"280",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑 "),t("i",{staticClass:"el-icon-edit"})]),t("el-popconfirm",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{"confirm-button-text":"确定","cancel-button-text":"我再想想",icon:"el-icon-info","icon-color":"red",title:"你确定删除吗？"},on:{confirm:function(t){return e.handleDelete(a.row.id)}}},[t("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除 "),t("i",{staticClass:"el-icon-remove-outline"})])],1),t("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.download(a.row.name)}}},[e._v("下载 "),t("i",{staticClass:"el-icon-download"})])]}}])})],1),t("el-pagination",{staticClass:"pager",attrs:{layout:"total,sizes,prev,pager,next,jumper","page-size":e.table.pageConfig.size?e.table.pageConfig.size:10,"page-sizes":[5,10,15,20],total:e.table.pageConfig.total,"current-page":e.table.pageConfig.current},on:{"update:currentPage":function(t){return e.$set(e.table.pageConfig,"current",t)},"update:current-page":function(t){return e.$set(e.table.pageConfig,"current",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],o=(a("e9f5"),a("ab43"),a("9e9e")),n=a("2f62"),s={name:"Docs",data(){return{editForm:{isShow:!1,formData:{}},searchForm:{formData:{}},table:{tableData:[],pageConfig:{total:10,current:1,size:10}},ids:[]}},computed:{...Object(n["b"])("token",["token"]),headers(){return{token:this.token}},importApi(){return Object(o["f"])()},uploadApi(){return Object(o["h"])()}},methods:{handleDelete(e){Object(o["b"])(e).then(e=>{200===e.code?(this.$message.success("删除成功！"),this.loading()):this.$message.error("删除失败！")})},handleDeleteBatch(){Object(o["a"])(this.ids).then(e=>{200===e.code?(this.$message.success("批量删除成功！"),this.loading()):this.$message.error("批量删除失败！")})},handleEdit(e){this.editForm.isShow=!0,this.editForm.formData=e},confirmEdit(){Object(o["c"])(this.editForm.formData).then(e=>{200===e.code?(this.$message.success("修改成功！"),this.editForm.isShow=!1,this.loading()):this.$message.error("修改失败！")})},search(){this.loading()},reset(){this.searchForm.formData={},this.loading()},handleSizeChange(e){this.table.pageConfig.size=e,this.loading()},handleCurrentChange(e){this.table.pageConfig.current=e,this.loading()},handleSelectionChange(e){this.ids=e.map(e=>e.id)},loading(){Object(o["g"])({current:this.table.pageConfig.current,size:this.table.pageConfig.size,oldName:this.searchForm.formData.oldName,staffName:this.searchForm.formData.staffName}).then(e=>{200===e.code?(this.table.tableData=e.data.list,this.table.pageConfig.total=e.data.total):this.$message.error(e.message)})},exportData(){window.open(Object(o["e"])())},handleImportSuccess(e){200===e.code?(this.$message.success("数据导入成功！"),this.loading()):this.$message.error("数据导入失败！")},handleUploadSuccess(e){200===e.code?(this.loading(),this.$message.success("文件上传成功！")):this.$message.error("文件上传失败！")},download(e){window.open(Object(o["d"])()+e)}},created(){this.loading()}},l=s,c=a("2877"),m=Object(c["a"])(l,i,r,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-c0393548.84c5ab3f.js.map